System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},n={},r={},i={},s={},l={},p={};return{setters:[function(e){o.BrowserSizeMode=e.BrowserSizeMode,o.React=e.React,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){n.interact=e.interact},function(e){r.Button=e.Button,r.ButtonGroup=e.ButtonGroup,r.Dropdown=e.Dropdown,r.DropdownItem=e.DropdownItem,r.DropdownMenu=e.DropdownMenu,r.DropdownToggle=e.DropdownToggle,r.Popper=e.Popper},function(e){i.searchUtils=e.searchUtils},function(e){s.getAppConfigAction=e.getAppConfigAction},function(e){l.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,l.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,l.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){p.withBuilderStyles=e.withBuilderStyles,p.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{"use strict";var e={48891:e=>{e.exports=o},54020:e=>{e.exports=n},23137:e=>{e.exports=s},77282:e=>{e.exports=l},74758:e=>{e.exports=i},34796:e=>{e.exports=p},30726:e=>{e.exports=r}},t={};function d(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,d),r.exports}d.d=(e,t)=>{for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{d.r(u),d.d(u,{default:()=>p});var e=d(48891),t=d(54020),o=d(30726),n=d(74758),r=d(23137),i=d(77282);class s extends e.React.PureComponent{constructor(t){super(t),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:n}=this.props;void 0!==o?n&&n(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var t,o,n,r,i,s;const{theme:l}=this.props;return e.css`
      .card-toggle-button {
        background: ${null===(n=null===(o=null===(t=l.colors)||void 0===t?void 0:t.palette)||void 0===o?void 0:o.light)||void 0===n?void 0:n[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(s=null===(i=null===(r=l.colors)||void 0===r?void 0:r.palette)||void 0===i?void 0:i.light)||void 0===s?void 0:s[800]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderStyle:n}=t;this.MyDropdown=n?n(o.Dropdown):o.Dropdown,this.MyDropdownToggle=n?n(o.DropdownToggle):o.DropdownToggle,this.MyDropdownMenu=n?n(o.DropdownMenu):o.DropdownMenu,this.MyDropdownItem=n?n(o.DropdownItem):o.DropdownItem}render(){const{items:t,toggleContent:o,caret:n,toggleType:r,menuContent:i,modifiers:s,toggleIsIcon:l,theme:p,isDropDownOpen:d,size:u,appendToBody:a,toggleTitle:c,direction:g,menuCss:h,className:w,showActive:m,activeLabel:S,fluid:A}=this.props;let{isOpen:y}=this.state;y=void 0===d?y:d;const{MyDropdown:I,MyDropdownToggle:D,MyDropdownMenu:B,MyDropdownItem:L}=this;return(0,e.jsx)(I,{size:u,toggle:this.onDropDownToggle,direction:g,fluid:A,isOpen:y,className:`my-dropdown ${w}`,css:this.getStyle()},o&&(0,e.jsx)(D,{icon:l,title:c,size:u,type:r,caret:n,className:"card-toggle-button"},o&&o(p)),(0,e.jsx)(B,{appendToBody:a,modifiers:s,css:h&&h(p)},i?i(p):t&&t.asMutable().map(((t,o)=>!t.hide&&(0,e.jsx)(L,{key:o,className:"no-user-select",active:m&&t.label===S,onClick:e=>this.onItemClick(e,t)},t.label)))))}}var l=d(34796);const p={ButtonGroup:o.ButtonGroup,interact:t.interact,searchUtils:n.searchUtils,getAppConfigAction:r.getAppConfigAction,GLOBAL_DRAGGING_CLASS_NAME:i.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:i.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:i.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderStyle:l.withBuilderStyles,withBuilderTheme:l.withBuilderTheme,BuilderDropDown:(0,l.withBuilderTheme)((t=>e.React.createElement(s,Object.assign({},t,{withBuilderStyle:l.withBuilderStyles})))),BuilderPopper:(0,l.withBuilderTheme)(o.Popper),BuilderButton:(0,l.withBuilderTheme)(o.Button),selectionIsSelf:(e,t,o)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;const r=n.searchUtils.findLayoutItem(o,e);return!(!r||!r.widgetId||r.widgetId!==t)},selectionInCard:(t,o,r,i=!0)=>{if(!t||!t.layoutItemId||!t.layoutId)return!1;let s;return i?s=n.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(r,t,o,(0,e.getAppStore)().getState().browserSizeMode):(s=[],s.push(...n.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(r,t,o,e.BrowserSizeMode.Large)),s.push(...n.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(r,t,o,e.BrowserSizeMode.Medium)),s.push(...n.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(r,t,o,e.BrowserSizeMode.Small))),s.length>0}}})(),u})())}}}));